  queue: test                                                   
  jobSetId: job-set-1                                           
  jobs:                                                         
    - namespace: default                                        
      priority: 0                                               
      podSpec:                                                  
        terminationGracePeriodSeconds: 0                        
        restartPolicy: Never                                    
        containers:                                             
          - name: spark-driver                                  
            image: spark:testing                                
            env:                                                
            - name: SPARK_DRIVER_BIND_ADDRESS
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: status.podIP
            command:                                            
              - /opt/entrypoint.sh                              
            args:
              - driver
              - --verbose                                       
              - --class
              - org.apache.spark.examples.SparkPi
              - --master                                        
              - armada://armada-server.armada.svc.cluster.local:50051
              - --conf
              - "spark.driver.port=7078"
              - --conf
              - "spark.driver.extraJavaOptions=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:5005"
              - local:///opt/spark/examples/jars/spark-examples.jar
              - "100"
            resources:                                          
              limits:                                           
                memory: 1Gi                                     
                cpu: 1                                          
              requests:                                         
                memory: 1Gi                                     
                cpu: 1  
            ports:
            - containerPort: 7078
              name: driver-rpc-port
              protocol: TCP
            - containerPort: 7079
              name: blockmanager
              protocol: TCP
            - containerPort: 4040
              name: spark-ui
              protocol: TCP
